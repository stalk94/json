(function(y,H){typeof exports=="object"&&typeof module<"u"?module.exports=H(require("react")):typeof define=="function"&&define.amd?define(["react"],H):(y=typeof globalThis<"u"?globalThis:y||self,y.JsonEditor=H(y.React))})(this,(function(y){"use strict";var H={exports:{}},q={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de;function ve(){if(de)return q;de=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function t(o,c,i){var g=null;if(i!==void 0&&(g=""+i),c.key!==void 0&&(g=""+c.key),"key"in c){i={};for(var j in c)j!=="key"&&(i[j]=c[j])}else i=c;return c=i.ref,{$$typeof:e,type:o,key:g,ref:c!==void 0?c:null,props:i}}return q.Fragment=s,q.jsx=t,q.jsxs=t,q}var G={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ue;function ke(){return ue||(ue=1,process.env.NODE_ENV!=="production"&&(function(){function e(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===B?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case v:return"Profiler";case u:return"StrictMode";case A:return"Suspense";case m:return"SuspenseList";case L:return"Activity"}if(typeof n=="object")switch(typeof n.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),n.$$typeof){case D:return"Portal";case x:return(n.displayName||"Context")+".Provider";case Y:return(n._context.displayName||"Context")+".Consumer";case T:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case S:return l=n.displayName||null,l!==null?l:e(n.type)||"Memo";case R:l=n._payload,n=n._init;try{return e(n(l))}catch{}}return null}function s(n){return""+n}function t(n){try{s(n);var l=!1}catch{l=!0}if(l){l=console;var h=l.error,O=typeof Symbol=="function"&&Symbol.toStringTag&&n[Symbol.toStringTag]||n.constructor.name||"Object";return h.call(l,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",O),s(n)}}function o(n){if(n===P)return"<>";if(typeof n=="object"&&n!==null&&n.$$typeof===R)return"<...>";try{var l=e(n);return l?"<"+l+">":"<...>"}catch{return"<...>"}}function c(){var n=z.A;return n===null?null:n.getOwner()}function i(){return Error("react-stack-top-frame")}function g(n){if(N.call(n,"key")){var l=Object.getOwnPropertyDescriptor(n,"key").get;if(l&&l.isReactWarning)return!1}return n.key!==void 0}function j(n,l){function h(){d||(d=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",l))}h.isReactWarning=!0,Object.defineProperty(n,"key",{get:h,configurable:!0})}function b(){var n=e(this.type);return a[n]||(a[n]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),n=this.props.ref,n!==void 0?n:null}function _(n,l,h,O,J,I,ae,ce){return h=I.ref,n={$$typeof:V,type:n,key:l,props:I,_owner:J},(h!==void 0?h:null)!==null?Object.defineProperty(n,"ref",{enumerable:!1,get:b}):Object.defineProperty(n,"ref",{enumerable:!1,value:null}),n._store={},Object.defineProperty(n._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(n,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(n,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:ae}),Object.defineProperty(n,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:ce}),Object.freeze&&(Object.freeze(n.props),Object.freeze(n)),n}function C(n,l,h,O,J,I,ae,ce){var w=l.children;if(w!==void 0)if(O)if(f(w)){for(O=0;O<w.length;O++)M(w[O]);Object.freeze&&Object.freeze(w)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else M(w);if(N.call(l,"key")){w=e(n);var U=Object.keys(l).filter(function(We){return We!=="key"});O=0<U.length?"{key: someKey, "+U.join(": ..., ")+": ...}":"{key: someKey}",$[w+O]||(U=0<U.length?"{"+U.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,O,w,U,w),$[w+O]=!0)}if(w=null,h!==void 0&&(t(h),w=""+h),g(l)&&(t(l.key),w=""+l.key),"key"in l){h={};for(var le in l)le!=="key"&&(h[le]=l[le])}else h=l;return w&&j(h,typeof n=="function"?n.displayName||n.name||"Unknown":n),_(n,w,I,J,c(),h,ae,ce)}function M(n){typeof n=="object"&&n!==null&&n.$$typeof===V&&n._store&&(n._store.validated=1)}var F=y,V=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.client.reference"),z=F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.prototype.hasOwnProperty,f=Array.isArray,p=console.createTask?console.createTask:function(){return null};F={react_stack_bottom_frame:function(n){return n()}};var d,a={},E=F.react_stack_bottom_frame.bind(F,i)(),k=p(o(i)),$={};G.Fragment=P,G.jsx=function(n,l,h,O,J){var I=1e4>z.recentlyCreatedOwnerStacks++;return C(n,l,h,!1,O,J,I?Error("react-stack-top-frame"):E,I?p(o(n)):k)},G.jsxs=function(n,l,h,O,J){var I=1e4>z.recentlyCreatedOwnerStacks++;return C(n,l,h,!0,O,J,I?Error("react-stack-top-frame"):E,I?p(o(n)):k)}})()),G}var fe;function Ee(){return fe||(fe=1,process.env.NODE_ENV==="production"?H.exports=ve():H.exports=ke()),H.exports}var r=Ee();const pe=y.createContext(null),me=()=>{const e=y.useContext(pe);if(!e)throw new Error("JsonEditor must be inside JsonEditorProvider");return e},Se=({children:e,editable:s=!0})=>{const[t,o]=y.useState(null);return r.jsx(pe.Provider,{value:{editingId:t,setEditingId:o,editable:s},children:e})};var ye={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},be=y.createContext&&y.createContext(ye),Ne=["attr","size","title"];function Oe(e,s){if(e==null)return{};var t=we(e,s),o,c;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)o=i[c],!(s.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}function we(e,s){if(e==null)return{};var t={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(s.indexOf(o)>=0)continue;t[o]=e[o]}return t}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ee.apply(this,arguments)}function xe(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),t.push.apply(t,o)}return t}function re(e){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{};s%2?xe(Object(t),!0).forEach(function(o){_e(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function _e(e,s,t){return s=Te(s),s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function Te(e){var s=Pe(e,"string");return typeof s=="symbol"?s:s+""}function Pe(e,s){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,s);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(e)}function ge(e){return e&&e.map((s,t)=>y.createElement(s.tag,re({key:t},s.attr),ge(s.child)))}function X(e){return s=>y.createElement(Ae,ee({attr:re({},e.attr)},s),ge(e.child))}function Ae(e){var s=t=>{var{attr:o,size:c,title:i}=e,g=Oe(e,Ne),j=c||t.size||"1em",b;return t.className&&(b=t.className),e.className&&(b=(b?b+" ":"")+e.className),y.createElement("svg",ee({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,g,{className:b,style:re(re({color:e.color||t.color},t.style),e.style),height:j,width:j,xmlns:"http://www.w3.org/2000/svg"}),i&&y.createElement("title",null,i),e.children)};return be!==void 0?y.createElement(be.Consumer,null,t=>s(t)):s(ye)}function Z(e){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function je(e){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function te(e){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(e)}function ne(e){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(e)}const W={fontSize:14,step:8,fontFamily:"monospace",lineHeight:1.4,colors:{key:"#61afef",string:"#a0d57a",number:"#e79b55",boolean:"#c678dd",null:"#c678dd",brackets:"#6c6c6c",colon:"#abb2bf",border:"#3e4451",type:"#6c6c6c",array:"#6c6c6c",object:"#6c6c6c",index:"#6c6c6c",pick:"#61afef"}};function he({onChange:e,setEditingId:s,value:t,fontSize:o,border:c}){return r.jsxs("span",{className:"mx-6",style:{display:"inline-flex",gap:4},children:[r.jsx("button",{onClick:i=>{i.stopPropagation(),e(!0),s(null)},style:{cursor:"pointer",border:`1px dashed ${c}`,borderRadius:4,padding:"0 4px",fontSize:o,background:t===!0?"#a5f07a60":"transparent",color:"#82f061",opacity:t===!1?.6:1},children:"✔"}),r.jsx("button",{onClick:i=>{i.stopPropagation(),e(!1),s(null)},style:{cursor:"pointer",border:`1px dashed ${c}`,borderRadius:4,padding:"0 4px",fontSize:o,background:t===!1?"#ed785e36":"transparent",color:"red",opacity:t===!0?.6:1},children:"✖"})]})}function se({value:e,onChange:s,label:t,theme:o=W,path:c="",depth:i=0,onPick:g,pickedPath:j,expandedPaths:b,onToggle:_,defaultCollapsed:C=!0}){const[M,F]=y.useState(C),{editingId:V,setEditingId:D,editable:P}=me(),u=o.step??12,v=y.useMemo(()=>c?c+"/"+(t??"root"):t??"root",[c,t]),Y=b?.includes(v)??!1,x=b?!Y:M,T=()=>{b?_?.(v):F(!M)},A={fontSize:o.fontSize??W.fontSize,fontFamily:o.fontFamily??W.fontFamily,lineHeight:o.lineHeight??W.lineHeight},m={...W.colors,...o.colors},S={fontSize:A.fontSize,fontFamily:A.fontFamily,lineHeight:A.lineHeight},R={color:m.key,fontWeight:300,fontStyle:"italic",...S},L={color:m.index,fontWeight:400,fontStyle:"normal",...S},B=j===v,z=()=>g&&r.jsx("input",{type:"radio",checked:!!B,readOnly:!0,onClick:N=>{N.stopPropagation(),g(v,e)},style:{marginLeft:8,cursor:"pointer",accentColor:m.pick}});if(typeof e=="boolean"){const N=V===v;return r.jsxs("div",{className:"flex items-center",style:{...S,paddingLeft:i*u},children:[t&&r.jsxs("span",{style:t.startsWith("[")?L:R,children:[t,r.jsx("span",{style:{color:m.index},children:":"})]}),r.jsx("span",{style:{color:m.boolean,cursor:P?"pointer":"default",marginLeft:t?4:0},onClick:()=>P&&D(v),children:String(e)}),z(),P&&N&&s&&r.jsx(he,{onChange:s,setEditingId:D,value:e,fontSize:A.fontSize,border:m.border})]})}if(typeof e=="string")return r.jsxs("div",{className:"flex items-center",style:{...S,paddingLeft:i*u},children:[t&&r.jsxs("span",{style:t.startsWith("[")?L:R,children:[t,r.jsx("span",{style:{color:m.index},children:":"})]}),r.jsx("input",{value:e,disabled:!P||!s,style:{...S,color:m.string,background:"transparent",border:"none",outline:"none",marginLeft:t?4:0},onChange:N=>P&&s(N.target.value)}),z()]});if(typeof e=="number")return r.jsxs("div",{className:"flex items-center",style:{...S,paddingLeft:i*u},children:[t&&r.jsxs("span",{style:t.startsWith("[")?L:R,children:[t,r.jsx("span",{style:{color:m.index},children:":"})]}),r.jsx("input",{type:"number",value:String(e),disabled:!P||!s,style:{...S,color:m.number,background:"transparent",border:"none",outline:"none",width:"6em",marginLeft:t?4:0},onChange:N=>{if(!P)return;const f=N.target.value;if(f===""||f==="-")s(0);else{const p=Number(f);isNaN(p)||s(p)}}}),z()]});if(e===null)return r.jsxs("div",{className:"flex items-center",style:{...S,paddingLeft:i*u},children:[t&&r.jsxs("span",{style:t.startsWith("[")?L:R,children:[t,r.jsx("span",{style:{color:m.colon},children:":"})]}),r.jsx("span",{style:{color:m.null,marginLeft:t?4:0},children:"null"}),z()]});if(Array.isArray(e))return r.jsxs("div",{style:{...S},children:[r.jsxs("div",{onClick:T,style:{display:"flex",alignItems:"center",cursor:"pointer",paddingLeft:i*u},children:[r.jsx("div",{className:"opacity-50",children:x?r.jsx(ne,{}):r.jsx(te,{})}),t&&r.jsxs("span",{className:"opacity-50",style:t.startsWith("[")?L:R,children:[t,":"]}),r.jsx("span",{className:"opacity-50",style:{color:m.type,marginLeft:t?4:0},children:"Array"}),r.jsxs("span",{className:"opacity-50",style:{color:m.brackets},children:["[",e.length,"]"]}),z()]}),!x&&r.jsx("div",{style:{marginLeft:u,borderLeft:`1px solid ${m.border}`},children:e.map((N,f)=>r.jsx(se,{value:N,label:`[${f}]`,path:v,depth:i+1,onChange:p=>{const d=[...e];d[f]=p,s(d)},theme:o,onPick:g,pickedPath:j,expandedPaths:b,onToggle:_,defaultCollapsed:C},f))})]});if(typeof e=="object"){const N=Object.entries(e);return r.jsxs("div",{style:{...S},children:[r.jsxs("div",{onClick:T,style:{display:"flex",alignItems:"center",cursor:"pointer",paddingLeft:i*u},children:[r.jsx("div",{className:"opacity-50",children:x?r.jsx(ne,{}):r.jsx(te,{})}),t&&r.jsxs("span",{className:"opacity-50",style:t.startsWith("[")?L:R,children:[t,":"]}),r.jsx("span",{className:"opacity-50",style:{color:m.type,marginLeft:t?4:0},children:"Object"}),r.jsx("span",{className:"opacity-50",style:{color:m.brackets},children:"{"+N.length+"}"}),z()]}),!x&&r.jsx("div",{style:{marginLeft:u,borderLeft:`1px solid ${m.border}`},children:N.map(([f,p])=>r.jsx(se,{value:p,label:f,path:v,depth:i+1,onChange:d=>s({...e,[f]:d}),theme:o,onPick:g,pickedPath:j,expandedPaths:b,onToggle:_,defaultCollapsed:C},f))})]})}return null}function Le({depth:e,step:s,color:t,onAdd:o,onCancel:c}){const[i,g]=y.useState(""),[j,b]=y.useState("string"),_=y.useCallback(()=>{i&&(o(i,j),g(""))},[i,j]);return r.jsxs("div",{className:"flex gap-1",style:{marginLeft:e*s},children:[r.jsx("input",{placeholder:"key",value:i,className:"rounded-sm pl-4 w-40",onChange:C=>g(C.target.value),style:{border:`1px solid ${t}`,background:"transparent",color:t}}),r.jsxs("select",{className:"border-1 rounded-lg border-dashed",value:j,onChange:C=>b(C.target.value),children:[r.jsx("option",{className:"bg-[#373737] text-amber-50",value:"string",children:"string"}),r.jsx("option",{className:"bg-[#373737] text-amber-50",value:"number",children:"number"}),r.jsx("option",{className:"bg-[#373737] text-amber-50",value:"boolean",children:"boolean"}),r.jsx("option",{className:"bg-[#373737] text-amber-50",value:"null",children:"null"}),r.jsx("option",{className:"bg-[#373737] text-amber-50",value:"object",children:"object"}),r.jsx("option",{className:"bg-[#373737] text-amber-50",value:"array",children:"array"})]}),r.jsx("button",{className:"border-1 rounded-lg px-2 hover:opacity-50 cursor-pointer border-dashed ml-2",onClick:_,children:"✔"}),r.jsx("button",{className:"border-1 rounded-lg px-2 hover:opacity-50 cursor-pointer border-dashed",onClick:c,children:"✖"})]})}function Q({label:e,onRename:s,editable:t,style:o,className:c,color:i}){return r.jsxs("span",{className:`flex ${c}`,style:o,children:[r.jsx("span",{contentEditable:t&&!e.startsWith("["),suppressContentEditableWarning:!0,onBlur:g=>{const j=g.currentTarget.textContent?.trim();t&&s&&j&&j!==e?s(e,j):g.currentTarget.textContent=e},style:{display:"inline-block",outline:"none",minWidth:"1ch"},children:e}),r.jsx("span",{style:{color:i},children:":"})]})}function Ce(e){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(e)}const ze=["string","number","boolean","null","object","array"];function oe({onChangeType:e,current:s,className:t}){const[o,c]=y.useState(!1);return r.jsxs("div",{className:`items-center my-auto mr-2 ${t}`,style:{position:"relative",display:"inline-block"},children:[r.jsx("button",{onClick:i=>{i.stopPropagation(),c(!o)},style:{cursor:"pointer",background:"transparent",border:"none",color:"#93adcf9e"},children:r.jsx(Ce,{size:12})}),o&&r.jsx("div",{style:{position:"absolute",top:"100%",left:0,background:"#2a2a2a",border:"1px solid #555",borderRadius:4,zIndex:10},children:ze.map(i=>r.jsx("div",{onClick:()=>{e(i),c(!1)},style:{padding:"2px 6px",fontSize:"0.8em",cursor:"pointer",background:s===i?"#444":"transparent",color:"#eee"},children:i},i))})]})}function K(){const[e,s]=y.useState(!1);return{hover:e,bind:{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)}}}function ie({value:e,onChange:s,label:t,theme:o=W,path:c="",depth:i=0,expandedPaths:g,defaultCollapsed:j=!1,onDelete:b,onRename:_}){const[C,M]=y.useState(!1),[F,V]=y.useState(j),{editingId:D,setEditingId:P,editable:u}=me(),v=o.step?o.step:8,Y={fontSize:o.fontSize??W.fontSize,fontFamily:o.fontFamily??W.fontFamily,lineHeight:o.lineHeight??W.lineHeight},x={...W.colors,...o.colors},T={fontSize:Y.fontSize,fontFamily:Y.fontFamily,lineHeight:Y.lineHeight},A={color:x.key,fontWeight:300,fontStyle:"italic",...T},m={color:x.index,fontWeight:400,fontStyle:"normal",...T},S=y.useMemo(()=>c?c+"/"+(t??"root"):t??"root",[c,t]),R=g?.includes(S)??!1,L=g?!R:F,B=()=>{g||V(!F)},z=(f,p)=>r.jsxs("span",{style:{display:"inline-flex",gap:4,marginLeft:8},children:[u&&p&&r.jsx("button",{className:"mr-1",onClick:d=>{d.stopPropagation(),p()},style:{cursor:"pointer",background:"transparent",border:"none",color:"#6c6c6c"},children:r.jsx(je,{size:16})}),u&&f&&r.jsx("button",{onClick:d=>{d.stopPropagation(),f()},style:{cursor:"pointer",background:"transparent",border:"none",color:"tomato"},children:r.jsx(Z,{size:16})})]}),N=f=>r.jsxs("span",{style:{display:"inline-flex",gap:4,marginLeft:8},children:[u&&r.jsx("button",{className:"mr-1",onClick:p=>{M(!0)},style:{cursor:"pointer",background:"transparent",border:"none",color:"#6c6c6c"},children:r.jsx(je,{size:16})}),u&&f&&r.jsx("button",{onClick:p=>{p.stopPropagation(),f()},style:{cursor:"pointer",background:"transparent",border:"none",color:"tomato"},children:r.jsx(Z,{size:16})})]});if(typeof e=="boolean"){const f=D===S,{hover:p,bind:d}=K();return r.jsxs("div",{className:"flex",style:{...T,paddingLeft:i*v},...d,children:[t&&r.jsx(Q,{style:t.startsWith("[")?m:A,label:t,color:x.colon,onRename:_,editable:u}),r.jsx("span",{style:{color:x.boolean,marginLeft:t?4:0,cursor:u?"pointer":"default"},onClick:()=>{u&&P(S)},children:String(e)}),u&&f&&p&&s&&r.jsx(he,{onChange:s,setEditingId:P,value:e,fontSize:Y.fontSize,border:x.border}),u&&p&&r.jsx(oe,{current:"boolean",className:"ml-auto",onChangeType:a=>{let E=null;switch(a){case"string":E="";break;case"number":E=0;break;case"boolean":E=!1;break;case"null":E=null;break;case"object":E={};break;case"array":E=[];break}s(E)}}),u&&p&&b&&r.jsx("button",{onClick:a=>{a.stopPropagation(),b()},style:{cursor:"pointer",background:"transparent",border:"none",color:"#f1aa9d9d"},children:r.jsx(Z,{size:16})})]})}if(typeof e=="string"){const{hover:f,bind:p}=K();return r.jsxs("div",{className:"flex",style:{...T,paddingLeft:i*v},...p,children:[t&&r.jsx(Q,{style:t.startsWith("[")?m:A,label:t,color:x.colon,onRename:_,editable:u}),r.jsx("input",{value:e,disabled:!u,className:"min-w-2",style:{...T,color:x.string,background:"transparent",border:"none",outline:"none",marginLeft:t?4:0},onChange:d=>u&&s(d.target.value)}),u&&f&&r.jsx(oe,{current:"string",onChangeType:d=>{let a=null;switch(d){case"string":a="";break;case"number":a=0;break;case"boolean":a=!1;break;case"null":a=null;break;case"object":a={};break;case"array":a=[];break}s(a)}}),u&&f&&b&&r.jsx("button",{className:"ml-auto",onClick:d=>{d.stopPropagation(),b()},style:{cursor:"pointer",background:"transparent",border:"none",color:"#f1aa9d9d"},children:r.jsx(Z,{size:16})})]})}if(typeof e=="number"){const{hover:f,bind:p}=K();return r.jsxs("div",{className:"flex",style:{...T,paddingLeft:i*v},...p,children:[t&&r.jsx(Q,{style:t.startsWith("[")?m:A,label:t,color:x.colon,onRename:_,editable:u}),r.jsx("input",{type:"number",value:String(e),disabled:!u,style:{...T,color:x.number,background:"transparent",border:"none",outline:"none",width:"6em",marginLeft:t?4:0},onChange:d=>{if(!u)return;const a=Number(d.target.value);isNaN(a)||s(a)}}),u&&f&&r.jsx(oe,{className:"ml-auto",current:"number",onChangeType:d=>{let a=null;switch(d){case"string":a="";break;case"number":a=0;break;case"boolean":a=!1;break;case"null":a=null;break;case"object":a={};break;case"array":a=[];break}s(a)}}),u&&f&&b&&r.jsx("button",{onClick:d=>{d.stopPropagation(),b()},style:{cursor:"pointer",background:"transparent",border:"none",color:"#f1aa9d9d"},children:r.jsx(Z,{size:16})})]})}if(e===null)return r.jsxs("div",{style:{...T,paddingLeft:i*v},children:[t&&r.jsx(Q,{style:t.startsWith("[")?m:A,label:t,color:x.colon,onRename:_,editable:u}),r.jsx("span",{style:{color:x.null,marginLeft:t?4:0},children:"null"})]});if(Array.isArray(e)){const{hover:f,bind:p}=K();return r.jsxs("div",{style:{...T},...p,children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",paddingLeft:i*v},onClick:B,children:[r.jsx("div",{className:"opacity-50",children:L?r.jsx(ne,{}):r.jsx(te,{})}),t&&r.jsxs("span",{className:"opacity-50",style:t.startsWith("[")?m:A,children:[t,":"]}),r.jsx("span",{className:"opacity-50",style:{color:x.type,marginLeft:4},children:"Array"}),r.jsxs("span",{className:"opacity-50",style:{color:x.brackets},children:["[",e.length,"]"]}),f&&z(c?()=>{b&&b()}:void 0,()=>{let d=null;if(e.length>0){const a=e[0];typeof a=="string"?d="":typeof a=="number"?d=0:typeof a=="boolean"?d=!1:Array.isArray(a)?d=[]:typeof a=="object"&&(d={})}s([...e,d])})]}),!L&&r.jsx("div",{style:{marginLeft:v,borderLeft:i>=0?`1px solid ${x.border}`:"none"},children:e.map((d,a)=>r.jsx(ie,{value:d,label:`[${a}]`,path:S,depth:i+1,onChange:E=>{const k=[...e];k[a]=E,s(k)},onDelete:()=>{const E=[...e];E.splice(a,1),s(E)},theme:o,expandedPaths:g,defaultCollapsed:j},a))})]})}if(typeof e=="object"&&!Array.isArray(e)){const f=Object.entries(e),{hover:p,bind:d}=K();return r.jsxs("div",{style:{...T},...d,children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",paddingLeft:i*v},children:[r.jsx("div",{className:"opacity-50",onClick:B,children:L?r.jsx(ne,{}):r.jsx(te,{})}),t&&r.jsx(Q,{className:"opacity-50",style:t.startsWith("[")?m:A,label:t,color:x.colon,onRename:_,editable:u}),r.jsx("span",{className:"opacity-50",style:{color:x.type,marginLeft:4},children:"Object"}),r.jsx("span",{className:"opacity-50",style:{color:x.brackets},children:"{"+f.length+"}"}),p&&N(c?()=>{b&&b()}:void 0)]}),C&&r.jsx(Le,{depth:i,step:v,color:x.string,onAdd:(a,E)=>{let k;switch(E){case"string":k="";break;case"number":k=0;break;case"boolean":k=!1;break;case"null":k=null;break;case"object":k={};break;case"array":k=[];break}s({...e,[a]:k}),M(!1)},onCancel:()=>M(!1)}),!L&&r.jsx("div",{style:{marginLeft:v,borderLeft:i>=0?`1px solid ${x.border}`:"none"},children:f.map(([a,E])=>r.jsx(ie,{value:E,label:a,path:S,depth:i+1,onChange:k=>s({...e,[a]:k}),onDelete:()=>{const{[a]:k,...$}=e;s($)},onRename:(k,$)=>{if(!(!$||k===$))if(_)_(k,$);else{const{[k]:n,...l}=e;s({...l,[$]:n})}},theme:o,expandedPaths:g,defaultCollapsed:j},a))})]})}return null}function Re(e){return r.jsxs(Se,{editable:e.editable,children:[e.type==="pick"&&r.jsx(se,{...e}),e.type!=="pick"&&r.jsx(ie,{...e})]})}return Re}));
